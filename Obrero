using System;

namespace TP_Final
{
	
	public class Obrero:Obra
	{
		private string nomape,cargo;
		private int dni,legajo;
		private int NumeroGrupo;
		private ArrayList lista_obreros=new ArrayList();
		public Obrero(string nomape,string cargo,int dni,int legajo,int NumeroGrupo)
		{
			this.nomape=nomape;
			this.cargo=cargo;
			this.dni=dni;
			this.legajo=legajo;
			this.NumeroGrupo=NumeroGrupo;
			
		}
		public Obrero(){
			
		}
		public string Nomape{
            set {nomape=value;}
            get {return nomape;}
        }
        public string Cargo{
            set{cargo=value;}
            get{return cargo;}
        }
        public int DNI{
            set{dni=value;}
            get{return dni;}
        }
        public int Legajo{
            set{legajo=value;}
            get{return legajo;}
        }
        
        

        public void nuevo_obrero(){

                Console.WriteLine("ingrese el nombre y apellido: ");
                nomape=Console.ReadLine();
                Console.WriteLine("ingrese cargo: ");
                cargo=Console.ReadLine();
                Console.WriteLine("ingrese DNI ");
                dni=int.Parse(Console.ReadLine());
                Console.WriteLine("ingrese legajo ");
                legajo=int.Parse(Console.ReadLine());
                Console.WriteLine("ingrese grupo ");
                NumeroGrupo=int.Parse(Console.ReadLine());
                Obrero newobrero = new Obrero(nomape,cargo,dni,legajo,NumeroGrupo);
                lista_obreros.Add(newobrero);
            }
		

       

        /*public void eliminar_Obrero()
        {
            Console.WriteLine("Ingrese el dni del obrero a eliminar: ");
            int elimi_dni = int.Parse(Console.ReadLine());
            
            
                for (int i=0;i<lista_obreros.Count;i++)
                {
                	Obrero obrero = (Obrero)lista_obreros[i];
                	if (obrero.dni == elimi_dni)
                    {
                        lista_obreros.RemoveAt(i);
                        Console.WriteLine("Obrero elminitado exitosamente.");
                        return;
                    }
                	else{
                		Console.WriteLine("ese dni no existe en la base de datos,intente nuevamente.");
                	}
                }
                
            }
            */
           public void eliminar_Obrero()
        {
            Console.WriteLine("Ingrese el dni del usuario que quiera eliminar: ");
            int elimi_dni = int.Parse(Console.ReadLine());
            bool elimi = false;
            while (elimi == false)
            {
                foreach (Obrero o in lista_obreros)
                {
                	if (o.dni == elimi_dni)
                    {
                        lista_obreros.Remove(o);
                        Console.WriteLine("eliminado exitosamente.");
                        elimi = true;
                        break;
                    }
                	
                    
                }
                if(!elimi){
                Console.WriteLine("ese dni no existe en la base de datos,intente nuevamente.");
                break;
                }
                
            }
           }
           
        

        public void Mostrar_Obrero(){
			Console.WriteLine("hay {0} obreros en la obra.",lista_obreros.Count);
			foreach (Obrero obrero in lista_obreros){
				Console.WriteLine("{0}	{1}	{2} {3}",obrero.Nomape,obrero.DNI,obrero.Cargo,obrero.NumeroGrupo);
			}
        }

	}
}